import React, { useState } from "react";
import {
  DesktopOutlined,
  FileOutlined,
  PieChartOutlined,
  TeamOutlined,
  UserOutlined,
  VideoCameraOutlined,
  UploadOutlined,
  MenuUnfoldOutlined,
  MenuFoldOutlined,
} from "@ant-design/icons";
import { Affix, Button, Flex, Layout, Menu, theme } from "antd";
const { Header, Sider, Content } = Layout;
import "./MainLayout.css";
import Item from "antd/es/list/Item";
import AppHeader from "./AppHeader";

const MainLayout = ({ children }) => {
  const [collapsed, setCollapsed] = useState(false);
  const [selectedItem, setSelectedItem] = useState("1");

  return (
    <Layout>
      <Sider
        width="20%"
        trigger={null}
        collapsible
        collapsed={collapsed}
        className="sider"
      >
        <Flex align="center" justify="space-between" className="sider-header">
          <Flex align="center">
            <svg
              width="40"
              height="40"
              viewBox="0 0 50 50"
              xmlns="http://www.w3.org/2000/svg"
            >
              <circle cx="25" cy="25" r="25" fill="#2F56DE" />
              <path
                d="M20.5 25.366C19.8333 24.9811 19.8333 24.0189 20.5 23.634L27.25 19.7369C27.9167 19.352 28.75 19.8331 28.75 20.6029V28.3971C28.75 29.1669 27.9167 29.648 27.25 29.2631L20.5 25.366Z"
                fill="white"
              />
            </svg>
            {!collapsed && (
              <div style={{ paddingLeft: "12px", fontSize: 18 }}>
                App<span style={{ fontWeight: "bold" }}>Distro</span>
              </div>
            )}
          </Flex>
          <Button
            type="text"
            icon={
              collapsed ? (
                <svg
                  width="20"
                  height="20"
                  viewBox="0 0 20 20"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    fillRule="evenodd"
                    clipRule="evenodd"
                    d="M7.09328 16.3082C7.03093 16.2548 6.97972 16.1896 6.94258 16.1163C6.90544 16.0431 6.88309 15.9633 6.87683 15.8814C6.87056 15.7995 6.88049 15.7172 6.90604 15.6391C6.9316 15.5611 6.97229 15.4889 7.02578 15.4266L11.6766 9.9999L7.02578 4.57323C6.96919 4.51144 6.92561 4.4389 6.89762 4.35992C6.86963 4.28095 6.8578 4.19715 6.86285 4.11352C6.86789 4.02988 6.8897 3.94812 6.92697 3.87308C6.96425 3.79804 7.01623 3.73126 7.07983 3.67672C7.14343 3.62217 7.21735 3.58097 7.29719 3.55556C7.37704 3.53015 7.46117 3.52106 7.5446 3.52882C7.62803 3.53658 7.70904 3.56103 7.78283 3.60073C7.85661 3.64043 7.92167 3.69455 7.97411 3.75989L12.9741 9.59323C13.0712 9.70649 13.1245 9.85074 13.1245 9.9999C13.1245 10.1491 13.0712 10.2933 12.9741 10.4066L7.97411 16.2399C7.86621 16.3656 7.71283 16.4433 7.54767 16.4559C7.38251 16.4686 7.21907 16.4152 7.09328 16.3074"
                    fill="#171A1F"
                  />
                </svg>
              ) : (
                <svg
                  width="20"
                  height="20"
                  viewBox="0 0 20 20"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    fillRule="evenodd"
                    clipRule="evenodd"
                    d="M12.9067 3.69177C12.9691 3.74521 13.0203 3.81041 13.0574 3.88366C13.0946 3.9569 13.1169 4.03674 13.1232 4.11862C13.1294 4.2005 13.1195 4.28281 13.094 4.36085C13.0684 4.43889 13.0277 4.51113 12.9742 4.57344L8.32339 10.0001L12.9742 15.4268C13.0308 15.4886 13.0744 15.5611 13.1024 15.6401C13.1304 15.7191 13.1422 15.8028 13.1372 15.8865C13.1321 15.9701 13.1103 16.0519 13.073 16.1269C13.0358 16.202 12.9838 16.2687 12.9202 16.3233C12.8566 16.3778 12.7826 16.419 12.7028 16.4444C12.623 16.4698 12.5388 16.4789 12.4554 16.4712C12.372 16.4634 12.291 16.439 12.2172 16.3993C12.1434 16.3596 12.0783 16.3054 12.0259 16.2401L7.02589 10.4068C6.92883 10.2935 6.87549 10.1493 6.87549 10.0001C6.87549 9.85095 6.92883 9.7067 7.02589 9.59344L12.0259 3.76011C12.1338 3.63443 12.2872 3.55672 12.4523 3.54406C12.6175 3.53141 12.7809 3.58483 12.9067 3.69261"
                    fill="#171A1F"
                  />
                </svg>
              )
            }
            onClick={() => setCollapsed(!collapsed)}
            style={{
              fontSize: "16px",
            }}
          />
        </Flex>
        <Menu
          className="menu"
          mode="inline"
          theme="dark"
          defaultSelectedKeys={[selectedItem]}
          onClick={(e) => setSelectedItem(e.key)}
          items={[
            {
              key: "1",
              icon: (
                <svg
                  viewBox="0 0 28 28"
                  fill={selectedItem === "1" ? "#2F56DE" : "#D4D2EE"}
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    // fillRule="evenodd"
                    // clipRule="evenodd"
                    d="M19.1264 2.35787L19.2034 2.37887C20.4867 2.72303 21.5029 2.99487 22.302 3.2842C23.1199 3.57937 23.7872 3.91653 24.3367 4.43103C25.1364 5.18065 25.6959 6.15059 25.9444 7.2182C26.1159 7.95087 26.075 8.69753 25.921 9.5527C25.7729 10.3904 25.501 11.4065 25.1569 12.6887L24.5315 15.0209C24.1885 16.303 23.9155 17.3192 23.6274 18.1195C23.331 18.9362 22.9939 19.6035 22.4794 20.153C21.7542 20.9273 20.8221 21.4772 19.7937 21.7374C19.4924 22.4282 19.0533 23.0502 18.5034 23.5655C17.9539 24.08 17.2865 24.4172 16.4687 24.7135C15.6695 25.0029 14.6534 25.2747 13.3712 25.6189L13.293 25.6399C12.0097 25.9829 10.9947 26.2547 10.157 26.4052C9.30187 26.558 8.5552 26.5989 7.82137 26.4285C6.7539 26.1792 5.78436 25.6189 5.03537 24.8185C4.52203 24.2702 4.1837 23.6029 3.88737 22.785C3.5992 21.9859 3.32737 20.9697 2.9832 19.6864L2.35787 17.3554C2.01487 16.072 1.74187 15.057 1.59253 14.2194C1.4397 13.3642 1.39887 12.6175 1.5692 11.8837C1.81851 10.8162 2.3788 9.84669 3.1792 9.0977C3.72753 8.58437 4.39487 8.24603 5.2127 7.9497C6.01187 7.66153 7.02803 7.3897 8.3102 7.04553L8.34987 7.03387L9.22603 6.80053C9.68337 5.16837 10.0847 4.01453 10.8687 3.17803C11.6178 2.37806 12.5874 1.81818 13.6547 1.5692C14.3885 1.39887 15.134 1.4397 15.9904 1.59253C16.8269 1.74187 17.843 2.01487 19.1264 2.35787ZM8.69753 8.75353C7.42237 9.09537 6.50887 9.3427 5.80653 9.59587C5.09487 9.85253 4.67837 10.0905 4.37503 10.3752C3.82746 10.8877 3.44419 11.5511 3.2737 12.2815C3.18037 12.6875 3.18153 13.1682 3.3157 13.9114C3.44987 14.6662 3.70303 15.6112 4.05887 16.9412L4.6632 19.1952C5.01903 20.5252 5.27337 21.4702 5.53353 22.19C5.7902 22.9017 6.0282 23.3194 6.31287 23.6227C6.8254 24.1703 7.48881 24.5535 8.2192 24.724C8.62403 24.8174 9.10587 24.815 9.84903 24.682C10.6039 24.5479 11.5489 24.2947 12.8789 23.9389C14.2089 23.5819 15.1539 23.3287 15.8749 23.0674C16.5854 22.8107 17.003 22.5727 17.3064 22.2892C17.4674 22.1375 17.6132 21.9742 17.745 21.8004C17.5286 21.7694 17.3131 21.7325 17.0987 21.6895C16.3147 21.5332 15.372 21.2812 14.2112 20.9697L14.1435 20.9522C12.8614 20.608 11.8452 20.3362 11.046 20.0469C10.2282 19.7517 9.56087 19.4145 9.01137 18.9C8.21119 18.1506 7.6513 17.1806 7.40253 16.1129C7.2322 15.3802 7.27303 14.6335 7.42587 13.7784C7.5752 12.9407 7.8482 11.9245 8.1912 10.6424L8.69753 8.75353ZM15.6824 3.3157C14.938 3.18153 14.4574 3.1792 14.0525 3.2737C13.3221 3.44419 12.6587 3.82746 12.1462 4.37503C11.6375 4.91753 11.3237 5.75753 10.78 7.7502C10.6914 8.07453 10.598 8.42337 10.4965 8.80253L9.8922 11.0565C9.53637 12.3865 9.2832 13.3315 9.14903 14.0864C9.01487 14.8295 9.01253 15.3114 9.10703 15.7162C9.27752 16.4466 9.66079 17.11 10.2084 17.6225C10.5117 17.9072 10.9294 18.144 11.6399 18.4019C12.3609 18.662 13.3059 18.9152 14.6359 19.2722C15.8317 19.593 16.7184 19.8299 17.4394 19.9722C18.1569 20.1157 18.6445 20.1507 19.0435 20.1017C19.131 20.09 19.2139 20.076 19.2955 20.0574C20.0259 19.8869 20.6893 19.5036 21.2019 18.956C21.4865 18.6527 21.7245 18.235 21.9812 17.5245C22.2414 16.8035 22.4945 15.8585 22.8515 14.5285L23.4559 12.2745C23.8117 10.9445 24.0649 9.99953 24.199 9.2447C24.332 8.50153 24.3355 8.0197 24.241 7.61487C24.0705 6.88448 23.6873 6.22107 23.1397 5.70853C22.8364 5.42387 22.4187 5.18703 21.7082 4.9292C20.986 4.66903 20.0422 4.41587 18.7122 4.05887C17.3822 3.70303 16.4372 3.44987 15.6824 3.3157Z"
                    fill="inherit"
                  />
                </svg>
              ),
              label: (
                <span
                  style={{
                    color:
                      selectedItem === "1"
                        ? collapsed
                          ? "#fff"
                          : "#000"
                        : "currentcolor",
                  }}
                >
                  Board
                </span>
              ),
            },
            {
              key: "2",
              icon: (
                <svg
                  viewBox="0 0 28 28"
                  fill={selectedItem === "2" ? "#2F56DE" : "#D4D2EE"}
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    clipRule="evenodd"
                    d="M8.16634 2.04175C8.39841 2.04175 8.62097 2.13394 8.78506 2.29803C8.94915 2.46212 9.04134 2.68468 9.04134 2.91675V3.80691C9.81367 3.79175 10.6642 3.79175 11.601 3.79175H16.3983C17.3352 3.79175 18.1857 3.79175 18.958 3.80691V2.91675C18.958 2.68468 19.0502 2.46212 19.2143 2.29803C19.3784 2.13394 19.6009 2.04175 19.833 2.04175C20.0651 2.04175 20.2876 2.13394 20.4517 2.29803C20.6158 2.46212 20.708 2.68468 20.708 2.91675V3.88158C21.0113 3.90491 21.2983 3.93408 21.5702 3.97025C22.9375 4.15458 24.0447 4.54191 24.9185 5.41458C25.7912 6.28841 26.1785 7.39558 26.3628 8.76291C26.4212 9.20041 26.4608 9.67758 26.4877 10.1979C26.5514 10.37 26.5591 10.5578 26.5098 10.7346C26.5413 11.6691 26.5413 12.7319 26.5413 13.9347V16.3987C26.5413 18.5431 26.5413 20.2417 26.3628 21.5706C26.1785 22.9379 25.7912 24.0451 24.9185 24.9189C24.0447 25.7916 22.9375 26.1789 21.5702 26.3632C20.2402 26.5417 18.5427 26.5417 16.3983 26.5417H11.601C9.45667 26.5417 7.75801 26.5417 6.42917 26.3632C5.06184 26.1789 3.95467 25.7916 3.08084 24.9189C2.20817 24.0451 1.82084 22.9379 1.63651 21.5706C1.45801 20.2406 1.45801 18.5431 1.45801 16.3987V13.9347C1.45801 12.7319 1.45801 11.6691 1.48951 10.7334C1.44082 10.5565 1.44899 10.3688 1.51284 10.1967C1.53851 9.67758 1.57817 9.20041 1.63651 8.76291C1.82084 7.39558 2.20817 6.28841 3.08084 5.41458C3.95467 4.54191 5.06184 4.15458 6.42917 3.97025C6.70101 3.93408 6.98917 3.90491 7.29134 3.88158V2.91675C7.29134 2.68468 7.38353 2.46212 7.54762 2.29803C7.71172 2.13394 7.93428 2.04175 8.16634 2.04175ZM3.22317 11.3751C3.20801 12.1369 3.20801 13.0037 3.20801 14.0001V16.3334C3.20801 18.5582 3.21034 20.1391 3.37134 21.3384C3.52884 22.5109 3.82517 23.1876 4.31867 23.6811C4.81217 24.1746 5.48884 24.4709 6.66251 24.6284C7.86184 24.7894 9.44151 24.7917 11.6663 24.7917H16.333C18.5578 24.7917 20.1387 24.7894 21.338 24.6284C22.5105 24.4709 23.1872 24.1746 23.6807 23.6811C24.1742 23.1876 24.4705 22.5109 24.628 21.3372C24.789 20.1391 24.7913 18.5582 24.7913 16.3334V14.0001C24.7913 13.0037 24.7913 12.1369 24.7762 11.3751H3.22317ZM24.6957 9.62508H3.30367C3.32234 9.40341 3.34451 9.19458 3.37134 8.99508C3.52884 7.82258 3.82517 7.14591 4.31867 6.65241C4.81217 6.15891 5.48884 5.86258 6.66251 5.70508C7.86184 5.54408 9.44151 5.54175 11.6663 5.54175H16.333C18.5578 5.54175 20.1387 5.54408 21.338 5.70508C22.5105 5.86258 23.1872 6.15891 23.6807 6.65241C24.1742 7.14591 24.4705 7.82258 24.628 8.99625C24.6548 9.19458 24.677 9.40458 24.6957 9.62508Z"
                    fill="inherit"
                  />
                </svg>
              ),
              label: (
                <span
                  style={{
                    color:
                      selectedItem === "2"
                        ? collapsed
                          ? "#fff"
                          : "#000"
                        : "currentcolor",
                  }}
                >
                  Calendar
                </span>
              ),
            },
            {
              key: "3",
              icon: (
                <svg
                  viewBox="0 0 28 28"
                  fill={selectedItem === "3" ? "#2F56DE" : "#D4D2EE"}
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    fillRule="evenodd"
                    clipRule="evenodd"
                    d="M14 9.625C12.8397 9.625 11.7269 10.0859 10.9064 10.9064C10.0859 11.7269 9.625 12.8397 9.625 14C9.625 15.1603 10.0859 16.2731 10.9064 17.0936C11.7269 17.9141 12.8397 18.375 14 18.375C15.1603 18.375 16.2731 17.9141 17.0936 17.0936C17.9141 16.2731 18.375 15.1603 18.375 14C18.375 12.8397 17.9141 11.7269 17.0936 10.9064C16.2731 10.0859 15.1603 9.625 14 9.625ZM11.375 14C11.375 13.3038 11.6516 12.6361 12.1438 12.1438C12.6361 11.6516 13.3038 11.375 14 11.375C14.6962 11.375 15.3639 11.6516 15.8562 12.1438C16.3484 12.6361 16.625 13.3038 16.625 14C16.625 14.6962 16.3484 15.3639 15.8562 15.8562C15.3639 16.3484 14.6962 16.625 14 16.625C13.3038 16.625 12.6361 16.3484 12.1438 15.8562C11.6516 15.3639 11.375 14.6962 11.375 14Z"
                    fill="inherit"
                  />
                  <path
                    fillRule="evenodd"
                    clipRule="evenodd"
                    d="M14 1.45825C13.1775 1.45825 12.4273 1.68459 11.6072 2.06492C10.8138 2.43475 9.89333 2.97842 8.74417 3.65975L7.8645 4.18009C6.71417 4.86142 5.796 5.40509 5.08783 5.92542C4.35517 6.46442 3.79283 7.01509 3.38683 7.73725C2.98083 8.45825 2.79767 9.22942 2.71017 10.1441C2.625 11.0308 2.625 12.1169 2.625 13.4819V14.5179C2.625 15.8829 2.625 16.9679 2.71017 17.8546C2.79767 18.7704 2.98083 19.5416 3.38683 20.2626C3.794 20.9848 4.35517 21.5354 5.08783 22.0744C5.796 22.5948 6.71417 23.1384 7.8645 23.8198L8.74417 24.3401C9.89333 25.0214 10.8127 25.5651 11.6072 25.9349C12.4273 26.3153 13.1775 26.5416 14 26.5416C14.8225 26.5416 15.5727 26.3153 16.3928 25.9349C17.1862 25.5651 18.1067 25.0214 19.2558 24.3401L20.1355 23.8198C21.2858 23.1384 22.204 22.5948 22.9122 22.0744C23.6448 21.5354 24.2072 20.9848 24.6132 20.2626C25.0192 19.5416 25.2023 18.7704 25.2898 17.8558C25.375 16.9691 25.375 15.8829 25.375 14.5191V13.4819C25.375 12.1169 25.375 11.0319 25.2898 10.1453C25.2023 9.22942 25.0192 8.45825 24.6132 7.73725C24.206 7.01509 23.6448 6.46442 22.9122 5.92542C22.204 5.40509 21.2858 4.86142 20.1355 4.18009L19.2558 3.65975C18.1067 2.97842 17.1873 2.43475 16.3928 2.06492C15.5727 1.68459 14.8225 1.45825 14 1.45825ZM9.59583 5.18809C10.794 4.47875 11.6387 3.98059 12.3445 3.65275C13.0328 3.33309 13.5228 3.20825 14 3.20825C14.4783 3.20825 14.9683 3.33309 15.6567 3.65159C16.3613 3.98059 17.206 4.47992 18.4042 5.18809L19.2045 5.66292C20.4027 6.37225 21.2462 6.87275 21.8762 7.33592C22.4898 7.78742 22.8445 8.16425 23.0872 8.59592C23.3322 9.02875 23.4722 9.53625 23.548 10.3109C23.6238 11.1043 23.625 12.1076 23.625 13.5263V14.4736C23.625 15.8923 23.625 16.8944 23.548 17.6878C23.4733 18.4636 23.3322 18.9711 23.0872 19.4039C22.8445 19.8356 22.4898 20.2124 21.8762 20.6639C21.2462 21.1271 20.4027 21.6276 19.2045 22.3369L18.4042 22.8118C17.206 23.5211 16.3613 24.0193 15.6555 24.3471C14.9672 24.6667 14.4772 24.7916 14 24.7916C13.5217 24.7916 13.0317 24.6668 12.3433 24.3483C11.6387 24.0193 10.794 23.5199 9.59583 22.8118L8.7955 22.3369C7.59733 21.6276 6.75383 21.1271 6.12383 20.6639C5.51017 20.2124 5.1555 19.8356 4.91283 19.4039C4.66783 18.9711 4.52667 18.4636 4.452 17.6889C4.37617 16.8956 4.375 15.8923 4.375 14.4736V13.5263C4.375 12.1076 4.375 11.1054 4.452 10.3121C4.52667 9.53625 4.66783 9.02875 4.91167 8.59592C5.1555 8.16425 5.51017 7.78742 6.125 7.33592C6.755 6.87275 7.59733 6.37225 8.79667 5.66292L9.59583 5.18809Z"
                    fill="inherit"
                  />
                </svg>
              ),
              label: (
                <span
                  style={{
                    color:
                      selectedItem === "3"
                        ? collapsed
                          ? "#fff"
                          : "#000"
                        : "currentcolor",
                  }}
                >
                  Setting
                </span>
              ),
              onClick: () => {
                console.log("Setting");
              },
            },
          ]}
        />
      </Sider>
      <Layout>
        <Affix offsetTop={0}>
          <Header
            style={{
              background: "#fbfcfd",
              padding: "32px",
            }}
          >
            <AppHeader />
          </Header>
        </Affix>
        <Content
          style={{
            padding: 24,
            background: "#fbfcfd",
          }}
        >
          {children}
        </Content>
      </Layout>
    </Layout>
  );
};

export default MainLayout;
